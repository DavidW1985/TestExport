# Emigration Assessment Platform

## Overview

This is a React-based web application that provides AI-powered emigration assessment services with expert review and intelligent package matching. The platform uses a 6-question initial assessment form followed by intelligent follow-up questions generated by OpenAI GPT-4o. The system categorizes user responses into 10 structured categories (goal, finance, family, housing, work, immigration, education, tax, healthcare, other, outstanding_clarifications) and guides users through exactly 3 rounds of targeted follow-up questions before automatically recommending the most suitable emigration service package and connecting users with emigration experts.

### Recent Updates (August 2025)
- **LLM-Powered Placeholder Generation**: Replaced keyword-based placeholder system with intelligent, contextual placeholder text generated by GPT-4o for each specific question
- **Comprehensive LLM Logging System**: Added complete interaction tracking for all AI operations with database storage, admin dashboard at /llm-logs, and real-time monitoring
- **3-Round Follow-up Structure**: Enforced exactly 3 rounds of follow-up questions to ensure thorough data collection
- **Enhanced Answer Recording**: Fixed answer mapping system to properly record user responses in case state with indexed format and comprehensive audit trail
- **Admin Tools**: Created /admin page for prompt management and /llm-logs for interaction monitoring
- **Pricing Package System**: Built comprehensive LLM-powered package matching with 3 tiers (Essentials $299, Professional $699, Premium $1,299), automatic recommendations on assessment completion, and admin management interface at /pricing-packages

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
The client-side application is built with React 18 and TypeScript, using a modern component-based architecture. The UI leverages shadcn/ui components with Radix UI primitives for accessibility and consistent design patterns. The application uses Wouter for lightweight client-side routing and TanStack Query for efficient server state management and API interactions.

**Key Design Decisions:**
- **React Hook Form with Zod validation**: Provides robust form handling with schema-based validation for the assessment form
- **Tailwind CSS with CSS variables**: Enables consistent theming and responsive design across all components
- **Component composition pattern**: Uses Radix UI primitives wrapped in custom components for maximum flexibility and reusability

### Backend Architecture
The server follows a RESTful API design using Express.js with TypeScript. The architecture separates concerns through a clean service layer pattern with dedicated modules for routing, storage abstraction, and business logic.

**Key Design Decisions:**
- **Express.js with TypeScript**: Provides type safety and modern JavaScript features for the server
- **Storage abstraction layer**: Uses an interface-based approach that currently implements in-memory storage but can easily be swapped for database persistence
- **Middleware-first approach**: Implements logging, error handling, and request parsing through Express middleware

### Data Management
The application uses Drizzle ORM for database schema definition and management, configured for PostgreSQL. The schema is shared between client and server for type consistency, with Zod schemas providing runtime validation.

**Key Design Decisions:**
- **Shared schema approach**: Database schema and validation schemas are co-located in a shared directory for consistency
- **Drizzle ORM**: Provides type-safe database queries and migrations with excellent TypeScript integration
- **Zod validation**: Ensures data integrity at both API boundaries and form submission

### Development Environment
The project uses Vite for fast development builds and hot module replacement. The monorepo structure keeps related code together while maintaining clear separation of concerns between client, server, and shared modules.

**Key Design Decisions:**
- **Vite build system**: Optimizes development experience with fast HMR and efficient production builds
- **Monorepo structure**: Enables code sharing while maintaining clear module boundaries
- **TypeScript throughout**: Provides end-to-end type safety from database to UI components

## External Dependencies

### UI Framework
- **React 18**: Core frontend framework with modern hooks and concurrent features
- **Radix UI**: Accessible, unstyled UI primitives for building the component system
- **shadcn/ui**: Pre-built component library built on Radix UI with consistent design patterns

### Styling and Design
- **Tailwind CSS**: Utility-first CSS framework for rapid UI development
- **Lucide React**: Consistent icon library with extensive icon coverage
- **class-variance-authority**: Type-safe component variant management

### Data and State Management
- **TanStack Query (React Query)**: Server state management with caching, background updates, and error handling
- **React Hook Form**: Performant form library with minimal re-renders
- **Zod**: Schema validation library for runtime type checking

### Server Infrastructure
- **Express.js**: Web application framework for Node.js
- **Drizzle ORM**: Type-safe ORM for database operations and schema management
- **Neon Database**: Serverless PostgreSQL database service

### Development Tools
- **Vite**: Fast build tool and development server
- **TypeScript**: Static type checking and enhanced developer experience
- **ESBuild**: Fast JavaScript bundler for production builds